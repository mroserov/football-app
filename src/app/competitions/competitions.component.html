<h1>Competitions</h1>
<mat-form-field class="season-form">
  <mat-label>Season</mat-label>
  <input matInput #season placeholder="Year" type="number" onKeyPress="if(this.value.length==4) return false;" (change)="getCompetitionsBySeason($event)">
  <mat-hint align="end">{{season.value.length}} / 4</mat-hint>
</mat-form-field>
<br>
<mat-form-field fxFlex="100%">
  <input matInput type="text" (keyup)="doFilter($event)" placeholder="Filter">
</mat-form-field>
<table mat-table [dataSource]="dataSource" matSort>
  <!--image-->
  <ng-container matColumnDef="emblemUrl">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
    <td mat-cell *matCellDef="let element">
      <img src="{{element.emblemUrl || '/assets/img/default_competition.svg'}}" style="width:50px;height:50px; padding: 2px;">
    </td>
  </ng-container>

  <!--name-->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
    <td mat-cell *matCellDef="let element">{{element.name}}</td>
  </ng-container>

  <!--ensignUrl-->
  <ng-container matColumnDef="area.ensignUrl">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Country</th>
    <td mat-cell *matCellDef="let element">
      <img *ngIf="element.area.ensignUrl; else elseBlock" src="{{element.area.ensignUrl}}" style="width:30px;height:30px; padding: 2px;" title="{{element.area.name}}">
      <ng-template #elseBlock>{{element.area.name}}</ng-template>
    </td>
  </ng-container>

  <!--startDate-->
  <ng-container matColumnDef="currentSeason.startDate">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Start Date</th>
    <td mat-cell *matCellDef="let element">{{element.currentSeason.startDate}}</td>
  </ng-container>

  <!--endDate-->
  <ng-container matColumnDef="currentSeason.endDate">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>End Date</th>
    <td mat-cell *matCellDef="let element">{{element.currentSeason.endDate}}</td>
  </ng-container>

  <!--teams-->
  <ng-container matColumnDef="teams">
    <th mat-header-cell *matHeaderCellDef> </th>
    <td mat-cell *matCellDef="let element" >
      <button mat-raised-button (click)="openTeams(element)">Teams</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-paginator [pageSizeOptions]="[10,20,50]" showFirstLastButtons></mat-paginator>
